# Proje Bilgileri - AC Charger

## Künye

**Dosya Adı:** project_info_20251208_145614.md  
**Yaratılma Tarihi:** 2025-12-08 14:56:16  
**Son Değiştirilme Tarihi:** 2025-12-08 15:43:20  
**Version:** 1.0.9  
**Özet:** AC charger projesi için proje bilgileri, önemli notlar, dersler ve edinilen bilgilerin tutulduğu dokümantasyon dosyası.

---

## Proje Genel Bilgileri

### Proje Amacı
AC charger geliştirme projesi.

### Donanım Altyapısı
- **Raspberry Pi:** SSH ile bağlı, tam yetkilere sahip
- **ESP32:** USB üzerinden Raspberry Pi'ye bağlı

### Versiyon Kontrolü ve Repository (2025-12-08 15:06:06)
- **GitHub Repository:** https://github.com/CaiserSz/orge1.git
- GitHub repository ile sync gidilmesi ve local'in commit/push edilmesi için özen gösterilecektir
- Git ve GitHub sürekli aktif olarak commit edilecektir

### Git Kurulumu ve İlk Push (2025-12-08 15:15:35)
- Git repository başarıyla başlatıldı ve ilk commit yapıldı
- Raspberry Pi'de SSH key oluşturuldu (ED25519, fingerprint: SHA256:XrA2Pz/9I8jHWvJV0h7IXHbNqXCl5ahlax1PNmpDz6Q)
- SSH key GitHub'a eklendi ve bağlantı başarıyla test edildi
- İlk push başarıyla tamamlandı (commit: 57be7e3)
- Branch: main, Remote: git@github.com:CaiserSz/orge1.git (SSH)

### İlk Bilgiler (2025-12-08 14:56:16)
- Proje temelde bir AC charger yapmak için başlatıldı
- Geliştirme ortamı: Raspberry Pi (SSH erişimi, tam yetkiler)
- Mikrodenetleyici: ESP32 (USB bağlantısı)

---

## Çıkarımlar ve Notlar

### Teknik Çıkarımlar (2025-12-08 14:56:16)
- Raspberry Pi ve ESP32 arasında USB üzerinden iletişim kurulacak
- Tüm kodlar profesyonel standartlarda yazılacak
- Her değişiklik sonrası testler çalıştırılacak

### ESP32-RPi İletişim Protokolü (2025-12-08 15:43:20)
- **Baudrate:** 115200
- **Protokol Formatı:** Binary Hex Protokolü
- **Paket Yapısı:** 5 byte - `41 [KOMUT] 2C [DEĞER] 10`
  - Byte 1: `0x41` (Sabit başlangıç)
  - Byte 2: `[KOMUT]` (Komut kodu, 1 byte hex)
  - Byte 3: `0x2C` (Sabit ayırıcı)
  - Byte 4: `[DEĞER]` (Komut değeri, 1 byte hex)
  - Byte 5: `0x10` (Sabit bitiş)
- **Önemli:** Sadece belirtilen komutlar RPi'den ESP32'ye gönderilebilir

### ESP32 Geliştirme Araçları (2025-12-08 15:00:11)
- ESP32 yükleme ve yönetimi için Arduino CLI kullanılacak
- PlatformIO kullanılmayacak

### Geliştirme Ortamı (2025-12-08 14:59:29)
- Proje geliştirme süreci (env) virtual environment ile yönetilecektir
- Terminal açıldığında otomatik olarak virtual ortamda açılacak ve kodlar orada yürütülecektir
- Poetry kullanılmayacak, bunun yerine Python virtual environment (env) kullanılacak

---

## Önemli Noktalar ve Hatırlanması Gerekenler

### Kritik Dosyalar (2025-12-08 14:57:30)
- `/home/basar/charger/project_info_20251208_145614.md` ve `/home/basar/charger/.cursorrules` dosyaları her zaman güncel tutulacaktır.
- Bu dosyalar proje süresince sürekli güncellenecek ve bakımı yapılacaktır.

### Çalışma Dizini ve Kısıtlamalar (2025-12-08 15:17:41)
- **Çalışma Dizini:** /home/basar/charger
- Dosya, klasör, alt klasör, ikilik (binary) yaratacak durumlara izin verilmeyecektir
- Kod standardı tüm workspace ve projede korunacaktır
- Tüm geliştirme çalışmaları bu dizin içinde yapılacaktır

### Çalışma Prensipleri (2025-12-08 15:19:35)
- Varsayımlarla değil gerçek verilerle hareket edilecektir
- Sistemde birşey yapılması gerektiğinde erişilemez veya SSH gerekli gibi varsayılmayacaktır
- Direkt terminalden herşey yapılabilir durumdadır
- Tüm işlemler terminal üzerinden gerçek verilerle yapılacaktır

_(Bu bölüm çalışmalar ilerledikçe güncellenecek)_

---

## Hatalardan Çıkarılan Dersler

_(Bu bölüm karşılaşılan hatalar ve çözümleri ile güncellenecek)_

---

## Edinilen ve Öğrenilen Bilgiler

### ESP32 Hex Komut Protokolü (2025-12-08 15:43:20)

#### Protokol Mimarisi
ESP32 şarj istasyonu kontrol ünitesi, üretici tarafından tanımlanan binary hex protokolünü kullanmaktadır. Protokol, sabit başlangıç ve bitiş byte'ları ile komut ve değer parametrelerinden oluşur.

#### Protokol Yapısı
**Genel Format:** `41 [KOMUT] 2C [DEĞER] 10`

| Byte Pozisyonu | Hex Değer | Açıklama | Tip |
|----------------|-----------|----------|-----|
| 1 | 41 | Sabit başlangıç byte'ı | Constant |
| 2 | [KOMUT] | Komut kodu (1 byte, hex) | Variable |
| 3 | 2C | Sabit ayırıcı byte | Constant |
| 4 | [DEĞER] | Komut değeri (1 byte, hex) | Variable |
| 5 | 10 | Sabit bitiş byte'ı | Constant |

**Toplam Paket Uzunluğu:** 5 byte

#### ESP32'ye Gönderilen Komutlar

| # | Komut Kategorisi | Komut ID | Değer | Hex Kod Dizini | Açıklama | Durum |
|---|-------------------|----------|-------|----------------|----------|-------|
| 1 | Status | 00 | 00 | 41 00 2C 00 10 | İstasyon durumu okuma | ✅ Aktif |
| 2 | Authorization | 01 | 01 | 41 01 2C 01 10 | Şarj izni ver | ✅ Aktif* |
| 4 | Akım Set | 02 | 06 | 41 02 2C 06 10 | Maksimum akım: 6A | ✅ Aktif |
| 5 | Akım Set | 02 | 0A | 41 02 2C 0A 10 | Maksimum akım: 10A | ✅ Aktif |
| 6 | Akım Set | 02 | 0D | 41 02 2C 0D 10 | Maksimum akım: 13A | ✅ Aktif |
| 7 | Akım Set | 02 | 10 | 41 02 2C 10 10 | Maksimum akım: 16A ⭐ | ✅ Aktif |
| 8 | Akım Set | 02 | 14 | 41 02 2C 14 10 | Maksimum akım: 20A | ✅ Aktif |
| 9 | Akım Set | 02 | 19 | 41 02 2C 19 10 | Maksimum akım: 25A | ✅ Aktif |
| 10 | Akım Set | 02 | 20 | 41 02 2C 20 10 | Maksimum akım: 32A | ✅ Aktif |
| 20 | State Machine | 04 | 07 | 41 04 2C 07 10 | Şarjı bitir | ✅ Aktif* |

**Not:** Sadece bu komutlar RPi'den ESP32'ye gönderilebilir.

#### Komut ID (KOMUT) Anlamları

| Komut ID | Hex | İkili | Komut Adı | Açıklama |
|----------|-----|-------|-----------|----------|
| 00 | 0x00 | 00000000 | Status | İstasyon durumu okuma komutu |
| 01 | 0x01 | 00000001 | Authorization | Şarj izni kontrolü |
| 02 | 0x02 | 00000010 | Akım Set | Maksimum akım ayarlama |
| 04 | 0x04 | 00000100 | State Machine | Durum makinesi kontrolü |

#### Değer (DEĞER) Anlamları

**Authorization Komutları (cmd_id=01)**
| Değer | Hex | İkili | Anlam | Açıklama |
|-------|-----|-------|-------|----------|
| 01 | 0x01 | 00000001 | Authorization Ver | Şarj izni ver, şarja hazır |

**Akım Set Komutları (cmd_id=02)**
| Değer | Hex | İkili | Amper (A) | Açıklama |
|-------|-----|-------|-----------|----------|
| 06 | 0x06 | 00000110 | 6A | Minimum akım |
| 0A | 0x0A | 00001010 | 10A | Düşük akım |
| 0D | 0x0D | 00001101 | 13A | Orta akım |
| 10 | 0x10 | 00010000 | 16A | Önerilen akım ⭐ |
| 14 | 0x14 | 00010100 | 20A | Yüksek akım |
| 19 | 0x19 | 00011001 | 25A | Çok yüksek akım |
| 20 | 0x20 | 00100000 | 32A | Maksimum akım |

**Not:** Değer doğrudan amper cinsinden gönderilir (hex formatında).

**State Machine Komutları (cmd_id=04)**
| Değer | Hex | İkili | Durum Adı | Açıklama |
|-------|-----|-------|-----------|----------|
| 07 | 0x07 | 00000111 | Finishing | Şarjı bitir |

#### Protokol Örneği
**Status Komutu:**
- KOMUT: 00 (Status komutu)
- DEĞER: 00 (Status okuma)
- Hex Dizini: `41 00 2C 00 10`
- Byte Array: `[0x41, 0x00, 0x2C, 0x00, 0x10]`

_(Bu bölüm proje süresince edinilen teknik bilgiler ile güncellenecek)_

---

## Versiyon Geçmişi

### Version 1.0.9 (2025-12-08 15:43:20)
- ESP32-RPi USB iletişim protokolü detayları eklendi
- Baudrate: 115200 belirtildi
- Hex komut protokolü formatı ve tüm komutlar dokümante edildi
- Protokol yapısı, komut ID'leri ve değer anlamları tablolar halinde eklendi

### Version 1.0.8 (2025-12-08 15:19:35)
- Çalışma prensipleri eklendi: varsayımlarla değil gerçek verilerle hareket edilecek
- Terminal erişimi kuralı eklendi: direkt terminalden herşey yapılabilir durumda
- SSH gerekli gibi varsayımlar yapılmayacak

### Version 1.0.7 (2025-12-08 15:17:41)
- Çalışma dizini belirtildi: /home/basar/charger
- Dosya, klasör, alt klasör, ikilik yaratma kısıtlaması eklendi
- Kod standardının tüm workspace ve projede korunması gerektiği belirtildi

### Version 1.0.6 (2025-12-08 15:15:35)
- Git repository başlatıldı ve ilk commit yapıldı
- SSH key oluşturuldu ve GitHub'a eklendi
- İlk push başarıyla tamamlandı (10 dosya, 1622 satır)
- GitHub repository ile sync kuruldu

### Version 1.0.5 (2025-12-08 15:06:06)
- GitHub repository bilgisi eklendi (https://github.com/CaiserSz/orge1.git)
- GitHub sync ve commit/push işlemleri için özen gösterilmesi gerektiği belirtildi

### Version 1.0.4 (2025-12-08 15:00:11)
- ESP32 yükleme ve yönetimi için Arduino CLI kullanılacağı belirtildi
- PlatformIO yerine Arduino CLI kullanılacak

### Version 1.0.3 (2025-12-08 14:59:29)
- Geliştirme ortamı bilgisi güncellendi: Poetry yerine (env) virtual environment kullanılacak
- Terminal açıldığında otomatik olarak virtual ortamda açılacağı belirtildi

### Version 1.0.2 (2025-12-08 14:57:30)
- Kritik dosyaların her zaman güncel tutulması kuralı eklendi
- project_info ve .cursorrules dosyalarının sürekli güncellenmesi gerektiği belirtildi

### Version 1.0.1 (2025-12-08 14:56:59)
- Dosya adı İngilizceye çevrildi (proje_bilgileri -> project_info)
- Dosya isimlerinin her zaman İngilizce olması kuralı eklendi

### Version 1.0.0 (2025-12-08 14:56:16)
- İlk dosya oluşturuldu
- Proje genel bilgileri eklendi
- Dosya yapısı ve formatı belirlendi

